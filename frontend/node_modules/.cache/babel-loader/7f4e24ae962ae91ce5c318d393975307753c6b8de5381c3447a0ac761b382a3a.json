{"ast":null,"code":"import { firestore } from '../Services/firebase-config';\nimport { collection, addDoc, getDocs, deleteDoc, doc, updateDoc } from 'firebase/firestore';\nconst costsCollection = collection(firestore, 'costs');\nexport async function addCost(data) {\n  const docRef = await addDoc(costsCollection, data);\n  return docRef.id; // Return the Firestore document ID\n}\nexport async function getCosts() {\n  const snapshot = await getDocs(costsCollection);\n  const costs = snapshot.docs.map(doc => ({\n    id: doc.id,\n    ...doc.data()\n  }));\n  return costs;\n}\nexport async function deleteCost(id) {\n  const docRef = doc(firestore, 'costs', id);\n  await deleteDoc(docRef);\n}\n\n// Update Cost\nexport async function updateCost(id, data) {\n  const docRef = doc(firestore, 'costs', id);\n  // Ensure only fields to be updated are included\n  const updateData = {};\n  if (data.restaurant !== undefined) updateData.restaurant = data.restaurant;\n  if (data.price !== undefined) updateData.price = data.price;\n  if (data.date !== undefined) updateData.date = data.date;\n  if (data.location !== undefined) updateData.location = data.location;\n  await updateDoc(docRef, updateData);\n}","map":{"version":3,"names":["firestore","collection","addDoc","getDocs","deleteDoc","doc","updateDoc","costsCollection","addCost","data","docRef","id","getCosts","snapshot","costs","docs","map","deleteCost","updateCost","updateData","restaurant","undefined","price","date","location"],"sources":["D:/2uni/msa/respriz/frontend/src/Services/db.ts"],"sourcesContent":["import { firestore } from '../Services/firebase-config';\r\nimport { collection, addDoc, getDocs, deleteDoc, doc, updateDoc } from 'firebase/firestore';\r\n\r\ninterface Cost {\r\n    id?: string; // Use string for Firestore document IDs\r\n    restaurant: string;\r\n    price: number;\r\n    date: string;\r\n    location: string;\r\n}\r\n\r\nconst costsCollection = collection(firestore, 'costs');\r\n\r\nexport async function addCost(data: Cost): Promise<string> {\r\n    const docRef = await addDoc(costsCollection, data);\r\n    return docRef.id; // Return the Firestore document ID\r\n}\r\n\r\nexport async function getCosts(): Promise<Cost[]> {\r\n    const snapshot = await getDocs(costsCollection);\r\n    const costs: Cost[] = snapshot.docs.map(doc => ({\r\n        id: doc.id,\r\n        ...doc.data() as Cost\r\n    }));\r\n    return costs;\r\n}\r\n\r\nexport async function deleteCost(id: string): Promise<void> {\r\n    const docRef = doc(firestore, 'costs', id);\r\n    await deleteDoc(docRef);\r\n}\r\n\r\n// Update Cost\r\nexport async function updateCost(id: string, data: Partial<Cost>): Promise<void> {\r\n    const docRef = doc(firestore, 'costs', id);\r\n    // Ensure only fields to be updated are included\r\n    const updateData: { [key: string]: any } = {};\r\n    \r\n    if (data.restaurant !== undefined) updateData.restaurant = data.restaurant;\r\n    if (data.price !== undefined) updateData.price = data.price;\r\n    if (data.date !== undefined) updateData.date = data.date;\r\n    if (data.location !== undefined) updateData.location = data.location;\r\n\r\n    await updateDoc(docRef, updateData);\r\n}\r\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,6BAA6B;AACvD,SAASC,UAAU,EAAEC,MAAM,EAAEC,OAAO,EAAEC,SAAS,EAAEC,GAAG,EAAEC,SAAS,QAAQ,oBAAoB;AAU3F,MAAMC,eAAe,GAAGN,UAAU,CAACD,SAAS,EAAE,OAAO,CAAC;AAEtD,OAAO,eAAeQ,OAAOA,CAACC,IAAU,EAAmB;EACvD,MAAMC,MAAM,GAAG,MAAMR,MAAM,CAACK,eAAe,EAAEE,IAAI,CAAC;EAClD,OAAOC,MAAM,CAACC,EAAE,CAAC,CAAC;AACtB;AAEA,OAAO,eAAeC,QAAQA,CAAA,EAAoB;EAC9C,MAAMC,QAAQ,GAAG,MAAMV,OAAO,CAACI,eAAe,CAAC;EAC/C,MAAMO,KAAa,GAAGD,QAAQ,CAACE,IAAI,CAACC,GAAG,CAACX,GAAG,KAAK;IAC5CM,EAAE,EAAEN,GAAG,CAACM,EAAE;IACV,GAAGN,GAAG,CAACI,IAAI,CAAC;EAChB,CAAC,CAAC,CAAC;EACH,OAAOK,KAAK;AAChB;AAEA,OAAO,eAAeG,UAAUA,CAACN,EAAU,EAAiB;EACxD,MAAMD,MAAM,GAAGL,GAAG,CAACL,SAAS,EAAE,OAAO,EAAEW,EAAE,CAAC;EAC1C,MAAMP,SAAS,CAACM,MAAM,CAAC;AAC3B;;AAEA;AACA,OAAO,eAAeQ,UAAUA,CAACP,EAAU,EAAEF,IAAmB,EAAiB;EAC7E,MAAMC,MAAM,GAAGL,GAAG,CAACL,SAAS,EAAE,OAAO,EAAEW,EAAE,CAAC;EAC1C;EACA,MAAMQ,UAAkC,GAAG,CAAC,CAAC;EAE7C,IAAIV,IAAI,CAACW,UAAU,KAAKC,SAAS,EAAEF,UAAU,CAACC,UAAU,GAAGX,IAAI,CAACW,UAAU;EAC1E,IAAIX,IAAI,CAACa,KAAK,KAAKD,SAAS,EAAEF,UAAU,CAACG,KAAK,GAAGb,IAAI,CAACa,KAAK;EAC3D,IAAIb,IAAI,CAACc,IAAI,KAAKF,SAAS,EAAEF,UAAU,CAACI,IAAI,GAAGd,IAAI,CAACc,IAAI;EACxD,IAAId,IAAI,CAACe,QAAQ,KAAKH,SAAS,EAAEF,UAAU,CAACK,QAAQ,GAAGf,IAAI,CAACe,QAAQ;EAEpE,MAAMlB,SAAS,CAACI,MAAM,EAAES,UAAU,CAAC;AACvC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}